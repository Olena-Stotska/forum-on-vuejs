(function(n){function t(t){for(var e,c,r=t[0],u=t[1],a=t[2],m=0,d=[];m<r.length;m++)c=r[m],i[c]&&d.push(i[c][0]),i[c]=0;for(e in u)Object.prototype.hasOwnProperty.call(u,e)&&(n[e]=u[e]);l&&l(t);while(d.length)d.shift()();return o.push.apply(o,a||[]),s()}function s(){for(var n,t=0;t<o.length;t++){for(var s=o[t],e=!0,r=1;r<s.length;r++){var u=s[r];0!==i[u]&&(e=!1)}e&&(o.splice(t--,1),n=c(c.s=s[0]))}return n}var e={},i={1:0},o=[];function c(t){if(e[t])return e[t].exports;var s=e[t]={i:t,l:!1,exports:{}};return n[t].call(s.exports,s,s.exports,c),s.l=!0,s.exports}c.m=n,c.c=e,c.d=function(n,t,s){c.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:s})},c.r=function(n){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},c.t=function(n,t){if(1&t&&(n=c(n)),8&t)return n;if(4&t&&"object"===typeof n&&n&&n.__esModule)return n;var s=Object.create(null);if(c.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var e in n)c.d(s,e,function(t){return n[t]}.bind(null,e));return s},c.n=function(n){var t=n&&n.__esModule?function(){return n["default"]}:function(){return n};return c.d(t,"a",t),t},c.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},c.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],u=r.push.bind(r);r.push=t,r=r.slice();for(var a=0;a<r.length;a++)t(r[a]);var l=u;o.push([6,0]),s()})({"/OaN":function(n,t,s){},6:function(n,t,s){n.exports=s("Vtdi")},"8RPW":function(n,t,s){"use strict";var e=s("PTcG"),i=s.n(e);i.a},E5vD:function(n,t,s){"use strict";var e=s("JOkj"),i=s.n(e);i.a},"IN/4":function(n,t,s){"use strict";var e=s("/OaN"),i=s.n(e);i.a},JOkj:function(n,t,s){},MgQ0:function(n,t,s){"use strict";var e=s("gI2r"),i=s.n(e);i.a},PTcG:function(n,t,s){},VhBC:function(n,t,s){"use strict";var e=s("zEPl"),i=s.n(e);i.a},Vtdi:function(n,t,s){"use strict";s.r(t);s("VRzm");var e=s("Kw5r"),i=function(){var n=this,t=n.$createElement,s=n._self._c||t;return s("div",{staticClass:"container",attrs:{id:"app"}},[s("div",{staticClass:"list-item"},[s("h2",{staticClass:"title"},[n._v("All Discussins")]),s("DiscussionForm",{on:{newDiscussion:n.addDiscussion}}),n._l(n.discussions,function(t){return s("ListDiscussions",{key:t.id,attrs:{discussion:t},on:{deleteDiscussion:n.destroyDiscussion,showComments:n.showComments}})})],2),n.selectedDiscussion?s("CommentsBlock",{attrs:{discussion:n.selectedDiscussion}}):n._e()],1)},o=[],c=s("yT7P"),r=function(){var n=this,t=n.$createElement,s=n._self._c||t;return s("form",{staticClass:"form",on:{submit:function(t){return t.preventDefault(),n.addDiscussion(t)}}},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:n.newDiscussion,expression:"newDiscussion",modifiers:{trim:!0}}],attrs:{placeholder:"Add new discussion..."},domProps:{value:n.newDiscussion},on:{input:function(t){t.target.composing||(n.newDiscussion=t.target.value.trim())},blur:function(t){n.$forceUpdate()}}})])},u=[],a={name:"DiscussionForm",data:function(){return{newDiscussion:""}},methods:{addDiscussion:function(){0!==this.newDiscussion.length&&(this.$emit("newDiscussion",{title:this.newDiscussion}),this.newDiscussion="")}}},l=a,m=(s("svg4"),s("KHd+")),d=Object(m["a"])(l,r,u,!1,null,"dd19c9e0",null),f=d.exports,p=function(){var n=this,t=n.$createElement,s=n._self._c||t;return s("div",{staticClass:"item",on:{click:function(t){n.$emit("showComments",n.discussion)}}},[n._v("\n  "+n._s(n.discussion.title)+"\n  "),s("span",[n._v(n._s(n.discussion.comments.length))]),s("button",{on:{click:function(t){t.stopPropagation(),n.$emit("deleteDiscussion",n.discussion)}}},[n._v("x")])])},v=[],h={name:"ListDiscussions",props:["discussion"]},w=h,D=(s("VhBC"),Object(m["a"])(w,p,v,!1,null,"3d9ad308",null)),b=D.exports,g=function(){var n=this,t=n.$createElement,s=n._self._c||t;return s("div",{staticClass:"comments-block"},[s("div",[s("h2",[n._v("Comments to: "+n._s(n.discussion.title))]),n._l(n.discussion.comments,function(n){return s("Comment",{attrs:{comment:n}})})],2),s("div",[s("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:n.newComment,expression:"newComment",modifiers:{trim:!0}}],attrs:{rows:"5",placeholder:"Enter your comment..."},domProps:{value:n.newComment},on:{keyup:function(t){return("button"in t||!n._k(t.keyCode,"enter",13,t.key,"Enter"))&&t.ctrlKey?n.addNewComment(t):null},input:function(t){t.target.composing||(n.newComment=t.target.value.trim())},blur:function(t){n.$forceUpdate()}}})])])},C=[],_=function(){var n=this,t=n.$createElement,s=n._self._c||t;return s("div",{staticClass:"comment"},[s("div",{staticClass:"user",style:{"background-color":n.comment.photo}}),n._v("\n  "+n._s(n.comment.message)+"\n")])},O=[],y={name:"Comment",props:["comment"]},j=y,P=(s("8RPW"),Object(m["a"])(j,_,O,!1,null,"138c3f8b",null)),k=P.exports,x={name:"CommentsBlock",props:["discussion"],components:{Comment:k},data:function(){return{newComment:""}},methods:{addNewComment:function(){0!==this.newComment.length&&(this.$store.dispatch("addNewComment",{discussion:this.discussion,newComment:this.newComment}),this.newComment="")}}},M=x,N=(s("E5vD"),Object(m["a"])(M,g,C,!1,null,"640e1daf",null)),$=N.exports,E=s("L2JU"),S={name:"app",components:{DiscussionForm:f,ListDiscussions:b,CommentsBlock:$},data:function(){return{selectedDiscussion:null}},computed:Object(c["a"])({},Object(E["c"])(["discussions"])),methods:Object(c["a"])({},Object(E["b"])(["addDiscussion","deleteDiscussion"]),{showComments:function(n){this.selectedDiscussion=n},destroyDiscussion:function(n){this.deleteDiscussion(n),this.selectedDiscussion=null}})},J=S,T=(s("IN/4"),s("MgQ0"),Object(m["a"])(J,i,o,!1,null,"1850506a",null)),B=T.exports;s("91GP");function F(n){return function(t){Object.assign(t.state,localStorage.state?JSON.parse(localStorage.state):null),t.subscribe(function(t,s){localStorage.state=JSON.stringify(V(s,n))})}}function V(n,t){return t.reduce(function(t,s){return t[s]=n[s],t},{})}e["a"].use(E["a"]);var I=new E["a"].Store({state:{discussions:[]},plugins:[F(["discussions"])],mutations:{addDiscussion:function(n,t){n.discussions.unshift(Object(c["a"])({},t,{id:Math.round(100*Math.random()),comments:[]}))},deleteDiscussion:function(n,t){var s=n.discussions.indexOf(t);n.discussions.splice(s,1)},addNewComment:function(n,t){var s=t.discussion,e=t.newComment;s.comments.unshift({message:e,photo:L()})}},actions:{addDiscussion:function(n,t){var s=n.commit;s("addDiscussion",t)},deleteDiscussion:function(n,t){var s=n.commit;s("deleteDiscussion",t)},addNewComment:function(n,t){var s=n.commit;s("addNewComment",t)}}});function L(){return"rgb(".concat([Math.floor(255*Math.random()),Math.floor(255*Math.random()),Math.floor(255*Math.random())].join(","),")")}e["a"].config.productionTip=!1,new e["a"]({store:I,render:function(n){return n(B)}}).$mount("#app")},gI2r:function(n,t,s){},jFwM:function(n,t,s){},svg4:function(n,t,s){"use strict";var e=s("jFwM"),i=s.n(e);i.a},zEPl:function(n,t,s){}});
//# sourceMappingURL=app.4d82a9c6.js.map