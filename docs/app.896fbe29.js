(function(n){function t(t){for(var e,r,c=t[0],u=t[1],a=t[2],l=0,d=[];l<c.length;l++)r=c[l],i[r]&&d.push(i[r][0]),i[r]=0;for(e in u)Object.prototype.hasOwnProperty.call(u,e)&&(n[e]=u[e]);m&&m(t);while(d.length)d.shift()();return o.push.apply(o,a||[]),s()}function s(){for(var n,t=0;t<o.length;t++){for(var s=o[t],e=!0,c=1;c<s.length;c++){var u=s[c];0!==i[u]&&(e=!1)}e&&(o.splice(t--,1),n=r(r.s=s[0]))}return n}var e={},i={1:0},o=[];function r(t){if(e[t])return e[t].exports;var s=e[t]={i:t,l:!1,exports:{}};return n[t].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=n,r.c=e,r.d=function(n,t,s){r.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:s})},r.r=function(n){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},r.t=function(n,t){if(1&t&&(n=r(n)),8&t)return n;if(4&t&&"object"===typeof n&&n&&n.__esModule)return n;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var e in n)r.d(s,e,function(t){return n[t]}.bind(null,e));return s},r.n=function(n){var t=n&&n.__esModule?function(){return n["default"]}:function(){return n};return r.d(t,"a",t),t},r.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},r.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var a=0;a<c.length;a++)t(c[a]);var m=u;o.push([7,0]),s()})({"+QX1":function(n,t,s){},"3+vE":function(n,t,s){},7:function(n,t,s){n.exports=s("Vtdi")},"8RPW":function(n,t,s){"use strict";var e=s("PTcG"),i=s.n(e);i.a},CLVS:function(n,t,s){},MgQ0:function(n,t,s){"use strict";var e=s("gI2r"),i=s.n(e);i.a},PTcG:function(n,t,s){},VhBC:function(n,t,s){"use strict";var e=s("zEPl"),i=s.n(e);i.a},Vtdi:function(n,t,s){"use strict";s.r(t);s("VRzm");var e=s("Kw5r"),i=function(){var n=this,t=n.$createElement,s=n._self._c||t;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},o=[],r=(s("uK0E"),s("MgQ0"),s("KHd+")),c={},u=Object(r["a"])(c,i,o,!1,null,"77c7e8d8",null),a=u.exports,m=(s("xfY5"),s("yT7P")),l=(s("dRSK"),s("L2JU"));s("91GP");function d(n){return function(t){Object.assign(t.state,localStorage.state?JSON.parse(localStorage.state):null),t.subscribe(function(t,s){localStorage.state=JSON.stringify(f(s,n))})}}function f(n,t){return t.reduce(function(t,s){return t[s]=n[s],t},{})}e["a"].use(l["a"]);var p=new l["a"].Store({state:{discussions:[]},getters:{getDiscussion:function(n){return function(t){return n.discussions.find(function(n){return n.id===t})}}},plugins:[d(["discussions"])],mutations:{addDiscussion:function(n,t){n.discussions.unshift(Object(m["a"])({},t,{id:Math.round(100*Math.random()),comments:[]}))},deleteDiscussion:function(n,t){var s=n.discussions.indexOf(t);n.discussions.splice(s,1)},addNewComment:function(n,t){var s=t.discussion,e=t.newComment;s.comments.unshift({message:e,photo:h()})}},actions:{addDiscussion:function(n,t){var s=n.commit;s("addDiscussion",t)},deleteDiscussion:function(n,t){var s=n.commit;s("deleteDiscussion",t)},addNewComment:function(n,t){var s=n.commit;s("addNewComment",t)},getDiscussion:function(n,t){var s=n.getters;n.state;return Promise.resolve(s.getDiscussion(Number(t)))}}});function h(){return"rgb(".concat([Math.floor(255*Math.random()),Math.floor(255*Math.random()),Math.floor(255*Math.random())].join(","),")")}var v=s("jE9Z"),w=function(){var n=this,t=n.$createElement,s=n._self._c||t;return s("div",{staticClass:"container"},[s("div",{staticClass:"list-item"},[s("h2",{staticClass:"title"},[n._v("All Discussins")]),s("DiscussionForm",{on:{newDiscussion:n.addDiscussion}}),n._l(n.discussions,function(t){return s("ListDiscussions",{key:t.id,attrs:{discussion:t},on:{deleteDiscussion:n.deleteDiscussion,showComments:n.showComments}})})],2),s("router-view")],1)},g=[],b=function(){var n=this,t=n.$createElement,s=n._self._c||t;return s("form",{staticClass:"form",on:{submit:function(t){return t.preventDefault(),n.addDiscussion(t)}}},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:n.newDiscussion,expression:"newDiscussion",modifiers:{trim:!0}}],attrs:{placeholder:"Add new discussion..."},domProps:{value:n.newDiscussion},on:{input:function(t){t.target.composing||(n.newDiscussion=t.target.value.trim())},blur:function(t){n.$forceUpdate()}}})])},C=[],D={name:"DiscussionForm",data:function(){return{newDiscussion:""}},methods:{addDiscussion:function(){0!==this.newDiscussion.length&&(this.$emit("newDiscussion",{title:this.newDiscussion}),this.newDiscussion="")}}},_=D,j=(s("svg4"),Object(r["a"])(_,b,C,!1,null,"dd19c9e0",null)),y=j.exports,O=function(){var n=this,t=n.$createElement,s=n._self._c||t;return s("div",{staticClass:"item",on:{click:function(t){n.$emit("showComments",n.discussion)}}},[n._v("\n  "+n._s(n.discussion.title)+"\n  "),s("span",[n._v(n._s(n.discussion.comments.length))]),s("button",{on:{click:function(t){t.stopPropagation(),n.$emit("deleteDiscussion",n.discussion)}}},[n._v("x")])])},x=[],P={name:"ListDiscussions",props:["discussion"]},M=P,$=(s("VhBC"),Object(r["a"])(M,O,x,!1,null,"3d9ad308",null)),E=$.exports,S={name:"Home",components:{DiscussionForm:y,ListDiscussions:E},computed:Object(m["a"])({},Object(l["c"])(["discussions"])),methods:Object(m["a"])({},Object(l["b"])(["addDiscussion","deleteDiscussion"]),{showComments:function(n){this.$router.push({path:"/discussions/".concat(n.id)})}})},k=S,N=(s("zU2t"),Object(r["a"])(k,w,g,!1,null,"469c8b60",null)),T=N.exports,V=function(){var n=this,t=n.$createElement,s=n._self._c||t;return n.discussion?s("div",{staticClass:"comments-block"},[s("div",[s("h2",[n._v("Comments to: "+n._s(n.discussion.title))]),n._l(n.discussion.comments,function(n){return s("Comment",{attrs:{comment:n}})})],2),s("div",[s("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:n.newComment,expression:"newComment",modifiers:{trim:!0}}],attrs:{rows:"5",placeholder:"Enter your comment..."},domProps:{value:n.newComment},on:{keyup:function(t){return("button"in t||!n._k(t.keyCode,"enter",13,t.key,"Enter"))&&t.ctrlKey?n.addNewComment(t):null},input:function(t){t.target.composing||(n.newComment=t.target.value.trim())},blur:function(t){n.$forceUpdate()}}})])]):n._e()},K=[],L=function(){var n=this,t=n.$createElement,s=n._self._c||t;return s("div",{staticClass:"comment"},[s("div",{staticClass:"user",style:{"background-color":n.comment.photo}}),n._v("\n  "+n._s(n.comment.message)+"\n")])},z=[],F={name:"Comment",props:["comment"]},J=F,U=(s("8RPW"),Object(r["a"])(J,L,z,!1,null,"138c3f8b",null)),Q=U.exports,R={name:"CommentsBlock",components:{Comment:Q},data:function(){return{discussion:null,newComment:""}},watch:{$route:{immediate:!0,handler:function(n){this.fetchDiscussion(n.params.id)}}},methods:{addNewComment:function(){0!==this.newComment.length&&(this.$store.dispatch("addNewComment",{discussion:this.discussion,newComment:this.newComment}),this.newComment="")},fetchDiscussion:function(n){var t=this;this.$store.dispatch("getDiscussion",n).then(function(n){return t.discussion=n})}}},B=R,G=(s("y0Tj"),Object(r["a"])(B,V,K,!1,null,"3f1fe61a",null)),A=G.exports;e["a"].use(v["a"]);var H=new v["a"]({routes:[{path:"/",component:T,children:[{path:"discussions/:id",component:A}]}]});e["a"].config.productionTip=!1,new e["a"]({store:p,router:H,render:function(n){return n(a)}}).$mount("#app")},gI2r:function(n,t,s){},jFwM:function(n,t,s){},svg4:function(n,t,s){"use strict";var e=s("jFwM"),i=s.n(e);i.a},uK0E:function(n,t,s){"use strict";var e=s("+QX1"),i=s.n(e);i.a},y0Tj:function(n,t,s){"use strict";var e=s("CLVS"),i=s.n(e);i.a},zEPl:function(n,t,s){},zU2t:function(n,t,s){"use strict";var e=s("3+vE"),i=s.n(e);i.a}});
//# sourceMappingURL=app.896fbe29.js.map